version: '3'
services:
  gitlab:
    image: gitlab/gitlab-ce
    container_name: gitlab
    entrypoint: init/docker-entrypoint
    environment:
      - GITLAB_URL=https://localhost:8080
      - PERSONAL_ACCESS_TOKEN
    ports:
      - 8080:80
      - 8443:443
    volumes:
      - ./docker-entrypoint:/init/docker-entrypoint
      - ./init:/init/setup.sh
      - ./test.rb:/init/init_data.rb
